(window.webpackJsonp=window.webpackJsonp||[]).push([[120,110],{653:function(t,e,n){"use strict";n.r(e),n.d(e,"formatStyleTop",(function(){return d})),n.d(e,"appendEditText",(function(){return h})),n.d(e,"appendEditTextInput",(function(){return f})),n.d(e,"appendEditElement",(function(){return x})),n.d(e,"appendUserActionElement",(function(){return m})),n.d(e,"appendEditImage",(function(){return y})),n.d(e,"appendDefaultConfirmSign",(function(){return A})),n.d(e,"appendDefaultConfirmText",(function(){return C})),n.d(e,"ExtractFormPdf",(function(){return B}));n(371),n(658),n(370),n(69),n(23),n(9),n(30),n(372),n(31);var r=n(145),l=n(671),o=n.n(l),d=function(t,e){var n=e.substring(e.indexOf(t)+t.length+1,e.indexOf("px"));return parseFloat(n.trim())},c=function(t,e){var n=e.substring(e.indexOf(t)+t.length+1,e.lastIndexOf("px"));return parseFloat(n.trim())},h=function(t){var e=t.parent,n=t.subParent,r=t.attr,l=t.tools,o=t.elem,h=t.axisX,f=t.axisY,x=t.fontsize;e.data.push({page_number:n.indexOf(o),y:d("top",r),x:c("left",r),type:"DrawText",text:l,axisX:h[1]-h[0],axisY:f[1]>f[0]?f[1]-f[0]:f[0]-f[1],size:d("font-size",x)})},f=function(t,e,n,r,l,o){t.data.push({page_number:e.indexOf(l),y:d("top",n),x:c("left",n),type:"DrawText",text:r,size:Number(d("font-size",o))})},x=function(t){var e=t.parent,n=t.subParent,r=t.attr,l=t.tools,option=t.option,o=t.elem,h=t.x1,f=t.y1,x=t.y2,m=t.x2,y=t.type,A=t.axisX,C=t.axisY,B=t.length,R=t.svgImagePath,v=t.svgWidth,P=t.svgHeight,w=t.elemScale;e.data.push({page_number:n.indexOf(o),y:parseFloat(f)||d("top",r),x:parseFloat(h)||c("left",r),svgPath:l,axisX:A[1]-A[0],axisY:C[1]>C[0]?C[1]-C[0]:C[0]-C[1],type:y||"Annotation",option:option,elemScale:w,length:B,y2:Number(x),x2:Number(m),svgImagePath:R,svgWidth:v,svgHeight:P})},m=function(t){var e=t.parent,n=t.subParent,r=t.attr,option=t.option,l=t.elem,o=t.x1,h=t.y1,f=(t.type,t.tool),x=t.axisX,m=t.axisY,y=t.axisX2,A=t.axisY2,C=t.pdfHeight,B=t.pdfWidth,R=t.height,v=t.actionStore,P=t.uploaded;e.data.push({page_number:n.indexOf(l),y:parseFloat(h)||d("top",r),x:parseFloat(o)||c("left",r),type:"Image",uploaded:P,axisX:x[1]-x[0],axisY:m[1]>m[0]?m[1]-m[0]:m[0]-m[1],axisX2:y[1]-y[0],axisY2:A[1]-A[0],base64:f.children[0].src,width:f.children[0].clientWidth,height:f.children[0].clientHeight}),v.push({page_number:n.indexOf(l),y:parseFloat(h)||d("top",r),x:parseFloat(o)||c("left",r),type:"appendHtmlElement",axisX:x[1]-x[0],axisY:m[1]>m[0]?m[1]-m[0]:m[0]-m[1],title:option,pdfHeight:C,pdfWidth:B,height:R})},y=function(t){var e=t.parent,n=t.subParent,r=t.attr,l=t.tools,o=t.elem,option=t.option,h=t.x1,f=t.y1,x=t.axisX,m=t.axisY,y=t.width,A=t.height,C=t.axisX2,B=t.axisY2,R=t.scaleDiff;e.data.push({page_number:n.indexOf(o),y:(parseFloat(f)||d("top",r))+.27*parseFloat(y)/2,x:(parseFloat(h)||c("left",r))+.27*parseFloat(A)/2,base64:l,type:"Image",option:option,axisX:x[1]-x[0],axisX2:C[1]-C[0],axisY2:B[1]-B[0],axisY:m[1]>m[0]?m[1]-m[0]:m[0]-m[1],elemScale:R,width:.73*parseFloat(y),height:.73*parseFloat(A)})},A=function(t){var e=t.parent,n=t.subParent,r=t.signaturePath,l=t.elem,option=t.option;t.type;e.data.push({page_number:n.indexOf(l),signaturePath:r,option:option,type:"confirm"})},C=function(t){var e=t.parent,n=t.subParent,text=t.text,r=t.elem,option=t.option;t.type;e.data.push({page_number:n.indexOf(r),text:text,option:option,type:"confirm"}),console.log(text)},B=function(t,e){var n={pdf_url:t||"",pdfWidth:null,pdfHeight:null,data:[]},l=[],d=document.querySelectorAll(".pdf-single-page-outer"),c=document.querySelectorAll(".pdf-page"),f=Array.from(d);n.pdfHeight="CANVAS"==c[0].children[0].tagName?c[0].children[0].getBoundingClientRect().height:c[0].children[1].getBoundingClientRect().height,n.pdfWidth="CANVAS"==c[0].children[0].tagName?c[0].children[0].getBoundingClientRect().width:c[0].children[1].getBoundingClientRect().width,f.forEach((function(element){(e||{}).fileAction==r.a.CONFIRM&&(A({parent:n,subParent:f,signaturePath:e.signaturePath,elem:element,option:"sign"}),C({parent:n,subParent:f,text:String(e.text).trim(),elem:element,option:"text"})),element.children.length>1&&Array.from(element.children).forEach((function(t){t.classList.contains("tool-wrapper")&&Array.from((t.children[1]||t.children[0]).children).forEach((function(e){var r;switch(e.tagName){case"svg":x({parent:n,subParent:f,attr:t.getAttribute("style"),tools:e.children[0].getAttribute("d"),option:e.children[0].getAttribute("options"),elemScale:e.getAttribute("elemscale"),elem:element,type:e.children[0].getAttribute("type"),axisY:[element.getBoundingClientRect().top,t.getBoundingClientRect().top],axisX:[element.getBoundingClientRect().left,t.getBoundingClientRect().left],length:t.getBoundingClientRect().width,svgImagePath:e.children[0].getAttribute("svgToImage"),svgWidth:e.getBoundingClientRect().width,svgHeight:e.getBoundingClientRect().height,y2:e.children[0].getAttribute("y2")?e.children[0].getAttribute("y2"):null,x2:e.children[0].getAttribute("x2")?e.children[0].getAttribute("x2"):null,x1:e.children[0].getAttribute("x")?e.children[0].getAttribute("x"):null,y1:e.children[0].getAttribute("y")?e.children[0].getAttribute("y"):null});break;case"BUTTON":m({parent:n,subParent:f,attr:t.getAttribute("style"),option:e.getAttribute("attr"),uploaded:e.getAttribute("uploaded"),elem:element,tool:e,axisY:[element.getBoundingClientRect().top,t.children[0].children[0].children[0].getBoundingClientRect().top],height:t.getBoundingClientRect().height,axisX:[element.getBoundingClientRect().left,t.children[0].children[0].children[0].getBoundingClientRect().left],axisX2:[t.children[0].children[0].children[0].getBoundingClientRect().left,t.children[0].children[0].children[0].getBoundingClientRect().right],axisY2:[t.children[0].children[0].children[0].getBoundingClientRect().top,t.children[0].children[0].children[0].getBoundingClientRect().bottom],pdfHeight:n.pdfHeight,pdfWidth:n.pdfWidth,x1:e.children[0].getAttribute("x")?e.children[0].getAttribute("x"):null,y1:e.children[0].getAttribute("y")?e.children[0].getAttribute("y"):null,type:e.children[0].getAttribute("type"),actionStore:l});break;case"DIV":switch(null===(r=e.children[0])||void 0===r?void 0:r.tagName){case"svg":x({parent:n,subParent:f,attr:t.getAttribute("style"),elemScale:e.getAttribute("elemscale"),tools:e.children[0].children[0].getAttribute("d"),option:e.children[0].children[0].getAttribute("options"),elem:element,axisY:[element.getBoundingClientRect().top,t.getBoundingClientRect().top],axisX:[element.getBoundingClientRect().left,t.getBoundingClientRect().left],length:e.children[0].children[0].getAttribute("x")?e.children[0].children[0].getAttribute("x"):null,y2:e.children[0].children[0].getAttribute("y2")?e.children[0].children[0].getAttribute("y2"):null,x1:e.children[0].children[0].getAttribute("x")?e.children[0].children[0].getAttribute("x"):null,y1:e.children[0].children[0].getAttribute("y")?e.children[0].children[0].getAttribute("y"):null,type:e.children[0].children[0].getAttribute("type")});break;case"P":h({parent:n,subParent:f,axisY:[element.getBoundingClientRect().top,t.getBoundingClientRect().top],axisX:[element.getBoundingClientRect().left,t.getBoundingClientRect().left],attr:t.getAttribute("style"),tools:e.children[0].textContent,elem:element,fontsize:e.children[0].getAttribute("style")});break;case"IMG":y({parent:n,subParent:f,attr:t.getAttribute("style"),elemScale:e.getAttribute("elemscale"),tools:e.children[0].src,scaleDiff:e.children[0].getAttribute("scaleDiff"),elem:element,axisY:[element.getBoundingClientRect().top,t.getBoundingClientRect().top],axisY2:[t.getBoundingClientRect().top,t.getBoundingClientRect().bottom],axisX:[element.getBoundingClientRect().left,t.getBoundingClientRect().left],axisX2:[t.getBoundingClientRect().left,t.getBoundingClientRect().right],width:e.children[0].getBoundingClientRect().width,height:e.children[0].getBoundingClientRect().height})}break;default:console.log("it is default"+e.tagName)}}))}))}));var B=document.querySelectorAll(".pdf-page");return Array.from(B).forEach((function(element){Array.from(element.children).forEach((function(t){if(t.classList.contains("annotationLayer")){var e=o()(".annotationLayer").find(":input");Array.from(e).forEach((function(t){switch(console.log(t.type),t.type){case"text":n.data.push({type:"PDFTextField",fieldName:t.name,value:t.value});break;case"checkbox":n.data.push({type:"PDFCheckBox",fieldName:t.name,isCheck:t.checked});break;case"select-one":n.data.push({type:"PDFDropdown",fieldName:t.name,value:t.value});break;case"radio":n.data.push({type:"PDFRadioGroup",fieldName:t.name,value:t.checked,checkedIndex:0})}}))}}))})),[n,l]}},658:function(t,e,n){"use strict";var r=n(5),l=n(373);r({target:"String",proto:!0,forced:n(374)("fontsize")},{fontsize:function(t){return l(this,"font","size",t)}})}}]);