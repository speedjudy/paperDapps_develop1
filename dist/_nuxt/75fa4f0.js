(window.webpackJsonp=window.webpackJsonp||[]).push([[146,18,35,119,230],{1020:function(e,t,r){"use strict";r(802)},1021:function(e,t,r){var n=r(19)((function(i){return i[1]}));n.push([e.i,"form[data-v-530dece6]{border-radius:0.75rem;border-width:4px;--tw-border-opacity:1;border-color:rgb(119 181 80 / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:1.5rem;width:100%;max-width:580px;margin:0 auto;box-shadow:0 4px 4px rgba(0,0,0,.25)}.input-label[data-v-530dece6]{display:block;font-size:0.875rem;line-height:1.25rem;font-weight:500}.input-label+*[data-v-530dece6]{margin-top:0.25rem}.form-group[data-v-530dece6]:not(:last-child){margin-bottom:1.25rem}",""]),n.locals={},e.exports=n},1328:function(e,t,r){"use strict";r.r(t);r(31),r(37),r(45),r(59),r(30),r(60);var n=r(3),o=r(15),c=(r(21),r(26),r(51),r(189),r(190),r(377),r(370),r(371),r(9),r(116),r(38),r(0)),l=r(119),d=r(144),m=r(659),f=(r(47),r(656)),v=r(4);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=c.default.extend({components:{SpinnerDottedIcon:d.default,MessageAlertWidget:m.default},name:"PackagePaymentTab",data:function(){return{loading:!1,errorMessage:"",cardNumberWithDashes:"",name:"",cvv:"",cardId:void 0,expirationDateWithSlashes:""}},props:{stagingPackageInfo:{type:Object,default:function(){return{}}}},computed:y(y({},Object(l.e)(["setPackage","createPackage"])),{},{packageData:function(){var e=this.setPackage,t=e.name,r=e.paperlink,n=e.teamMembers,o=(e.monthlyPrice,e.id),c=e.isMonthly,l=(e.userId,e.yearlyPrice,e.publicProfile),d=e.companyLedger,m=(e.activationCode,e.cc),f=e.companyName,v=e.companyEmail;return this.createPackage&&1==this.createPackage?{plan:c?"monthly":"yearly",action:"subscribe",companyName:f,companyEmail:v,custom:{name:t,paperlink:r,teamMembers:n,publicProfile:l,companyLedger:d,cc:m}}:0==this.createPackage?{packageId:o,action:"subscribe",companyName:f,companyEmail:v,plan:c?"monthly":"yearly"}:void 0},cardNumber:function(){return this.cardNumberWithDashes.replace(/-+/g,"")},expirationDateString:function(){return this.expirationDateWithSlashes.split("/").join("")||""},expYear:function(){return this.expirationDateString.split("").splice(2,4).join("")},expMonth:function(){return this.expirationDateString.split("").splice(0,2).join("")}}),methods:{inputCardNumber:function(e){var t=e.replace(/(-+)|([^0-9]+)/g,"");this.cardNumberWithDashes=(t.match(/.{1,4}/g)||[]).join("-")},inputExpirationDate:function(e){var t=e.replace(/\/+|[^0-9]+/g,"");if(!(t.length>4)){2===t.length&&(Number(t)>12&&(t="0"+t),0==Number(t)&&(t="01")),4==t.length&&0==Number(t.substring(2,4))&&(t=t.substring(0,2)+"01");var r=(t.match(/.{1,2}/g)||[]).join("/");this.expirationDateWithSlashes=r}},updateCard:function(e,data){var t=this;return this.$axios.$patch("/card/".concat(e),data).catch((function(e){var r="";r=e&&e.response&&e.response.data&&e.response.data.message?e.response.data.message:"Server not reachable",t.errorMessage=r,t.loading=!1}))},submit:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var o,data,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null==e||e.preventDefault(),t.expYear&&t.expMonth&&!isNaN(t.cvv)){r.next=4;break}return t.errorMessage="Please review the inputed information",r.abrupt("return");case 4:if(o=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~0-9]/,t.errorMessage="Name not correct",!o.test(t.name.trim())){r.next=8;break}return r.abrupt("return");case 8:if(!t.loading){r.next=10;break}return r.abrupt("return");case 10:return(t.$auth.user||{id:""}).id,data={card_holder_name:t.name,card_number:t.cardNumber,exp_year:t.expYear,exp_month:t.expMonth,cvv:t.cvv},console.log(data),t.loading=!0,t.errorMessage="",c=!1,r.next=18,t.$axios.$post("/cards",data).then((function(e){console.log(e);var r=e.id;t.cardId=r,c=!0})).catch(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.response,t.errorMessage=Object(f.ErrorHandler)(n),t.loading=!1;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:if(c){r.next=21;break}return t.loading=!1,r.abrupt("return");case 21:t.$axios.$post("/subscriptions",y({},t.packageData)).then(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$notify.success({title:"Package Subscription",message:"You have successfully subscribed for this package"}),setTimeout((function(){t.$nuxt.$router.push("/dashboard")}),1e3);case 2:case"end":return e.stop()}}),e)})))).catch(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.response,t.errorMessage=Object(f.ErrorHandler)(n),e.next=4,t.$axios.$delete("/cards/".concat(t.cardId));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){t.loading=!1}));case 22:case"end":return r.stop()}}),r)})))()}},mounted:function(){Object.keys(this.stagingPackageInfo).length<1&&this.$nuxt.$router.push("/package?tablevel=1"),this.$auth.user.role==v.a.TEAM&&(this.errorMessage="Proceeding to payment as a team member, payment may not reflect on the account. create a free account to access payment")}}),w=x,_=(r(1020),r(1)),component=Object(_.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("form",{on:{submit:e.submit}},[e._m(0),e._v(" "),e.errorMessage?t("message-alert-widget",{staticClass:"mb-7",attrs:{message:e.errorMessage,type:"error"}}):e._e(),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("Name of card holder")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"Name Surname",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("Card Number")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"0000-0000-0000-0000",value:e.cardNumberWithDashes,required:""},on:{input:e.inputCardNumber}})],1),e._v(" "),t("div",{staticClass:"grid gap-5 grid-cols-2"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("Expiration Date")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"MM/YY",required:"",value:e.expirationDateWithSlashes},on:{input:e.inputExpirationDate}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"input-label",attrs:{for:""}},[e._v("CVV")]),e._v(" "),t("el-input",{attrs:{disabled:e.loading,placeholder:"000",required:"",type:"password",maxlength:"3"},model:{value:e.cvv,callback:function(t){e.cvv=t},expression:"cvv"}})],1)]),e._v(" "),t("div",{staticClass:"grid place-items-center mt-6"},[t("button",{staticClass:"rounded-lg bg-paperdazgreen-400 text-white shadow text-sm h-10 px-6 disabled:bg-opacity-50",attrs:{disabled:e.loading}},[t("span",{staticClass:"inline-flex items-center gap-3"},[t("span",[e._v("Pay via Stripe")]),e._v(" "),t("transition",{attrs:{name:"fade",duration:100}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"animate-spin"},[t("spinner-dotted-icon",{attrs:{height:"22",width:"22"}})],1)])],1)])])],1)])}),[function(){var e=this._self._c;this._self._setupProxy;return e("div",{staticClass:"grid place-items-center mb-10"},[e("img",{staticClass:"max-w-full max-h-[50px] object-contain",attrs:{src:"/img/payment-types.png",alt:"Payment types",width:"400"}})])}],!1,null,"530dece6",null);t.default=component.exports},568:function(e,t,r){"use strict";r.r(t);var n=r(0).default.extend({name:"ExclamationIcon"}),o=r(1),component=Object(o.a)(n,(function(){var e=this._self._c;this._self._setupProxy;return e("svg",{staticClass:"fill-current",attrs:{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.8184 10.4055C20.8184 4.65876 16.158 6.06279e-05 10.4091 6.01255e-05C4.66026 5.96231e-05 -0.000116843 4.65875 -0.000117346 10.4055C-0.000117848 16.1523 4.66026 20.811 10.4091 20.811C16.158 20.811 20.8184 16.1523 20.8184 10.4055ZM1.89226 10.4055C1.89226 5.70359 5.70529 1.89194 10.4089 1.89194C15.1125 1.89194 18.9256 5.70359 18.9256 10.4055C18.9256 15.1074 15.1125 18.9191 10.4089 18.9191C5.70529 18.9191 1.89226 15.1074 1.89226 10.4055ZM10.4089 4.73131C9.88611 4.73131 9.4623 5.15484 9.4623 5.6773C9.4623 6.19975 9.88611 6.62328 10.4089 6.62328C10.9317 6.62328 11.3555 6.19975 11.3555 5.6773C11.3555 5.15484 10.9317 4.73131 10.4089 4.73131ZM9.45956 16.0828L11.3528 16.0828L11.3528 8.51508L9.45956 8.51508L9.45956 16.0828Z"}})])}),[],!1,null,null,null);t.default=component.exports},569:function(e,t,r){"use strict";r.r(t);var n=r(0).default.extend({name:"CheckIcon"}),o=r(1),component=Object(o.a)(n,(function(){var e=this._self._c;this._self._setupProxy;return e("svg",{staticClass:"svg-inline--fa fa-check fa-w-16",attrs:{height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check",role:"img",viewBox:"0 0 512 512"}},[e("path",{attrs:{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}})])}),[],!1,null,null,null);t.default=component.exports},654:function(e,t,r){var content=r(666);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("6d063446",content,!0,{sourceMap:!1})},656:function(e,t,r){"use strict";r.r(t),r.d(t,"ErrorHandler",(function(){return n}));r(93),r(94);function n(e){var t,r,n,o,c,l,d,m,f,v;console.log("error-handler",e);var h=(null===(r=null===(t=e)||void 0===t?void 0:t.data)||void 0===r?void 0:r.errors[0])||(null===(o=null===(n=e)||void 0===n?void 0:n.data)||void 0===o?void 0:o.message);return console.log("error-handler",h),(null===(c=(null==h?void 0:h.message)||h)||void 0===c?void 0:c.includes("email"))?"Email already exists":(null===(l=(null==h?void 0:h.message)||h)||void 0===l?void 0:l.includes("phone"))?"Phone number already exists":(null===(d=(null==h?void 0:h.message)||h)||void 0===d?void 0:d.includes("Invalid login"))?"Email or password is Incorrect":null==h?"Network error":(null===(m=(null==h?void 0:h.message)||h)||void 0===m?void 0:m.includes("subscriptions.userId"))?"You are already a subscribe user":(null===(f=(null==h?void 0:h.message)||h)||void 0===f?void 0:f.includes("Cannot read properties of undefined (reading 'teamMembers')"))?"Team trying to join does not exist":(null===(v=(null==h?void 0:h.message)||h)||void 0===v?void 0:v.includes("Stripe"))?"Error occured, Trying to send card info":void 0}},659:function(e,t,r){"use strict";r.r(t);var n=r(15),o=r(0),c=r(569),l=r(568),d=r(144),m=r(120),f=o.default.extend({components:{ExclamationIcon:l.default,CheckIcon:c.default,TimesIcon:m.default,SpinnerDottedIcon:d.default},name:"MessageAlertWidget",props:{type:{type:String,default:"info"},message:{type:String,default:""},isLoading:{type:Boolean,default:!1}}}),v=(r(665),r(1)),component=Object(v.a)(f,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"message-alert-widget text-white border px-4 py-3 rounded-lg text-xs flex items-center gap-2 font-medium",class:Object(n.a)({},e.type,!0)},[t("div",{staticClass:"icon-container p-1.5 bg-gray-100 bg-opacity-90 rounded-md"},["info"===e.type||"error"===e.type?t("exclamation-icon",{attrs:{width:"12",height:"12"}}):t("check-icon",{attrs:{width:"10",height:"10"}})],1),e._v(" "),t("div",{staticClass:"flex-1"},[e._t("default",(function(){return[t("div",{staticClass:"w-full flex justify-between gap-3 items-center"},[t("p",{staticClass:"flex-1"},[e._v(e._s(e.message))]),e._v(" "),t("div",[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"animate-spin inline-block"},[t("spinner-dotted-icon",{attrs:{height:"22",width:"22"}})],1)])])]}),{message:e.message})],2)])}),[],!1,null,"ab037030",null);t.default=component.exports},665:function(e,t,r){"use strict";r(654)},666:function(e,t,r){var n=r(19)((function(i){return i[1]}));n.push([e.i,".message-alert-widget.info[data-v-ab037030]{--tw-border-opacity:1;border-color:rgb(202 138 4 / var(--tw-border-opacity));background-color:rgb(202 138 4 / var(--tw-bg-opacity));--tw-bg-opacity:0.8}.message-alert-widget.info .icon-container[data-v-ab037030]{color:rgb(202 138 4 / var(--tw-text-opacity));--tw-text-opacity:0.8}.message-alert-widget.error[data-v-ab037030]{--tw-border-opacity:1;border-color:rgb(220 38 38 / var(--tw-border-opacity));background-color:rgb(220 38 38 / var(--tw-bg-opacity));--tw-bg-opacity:0.8}.message-alert-widget.error .icon-container[data-v-ab037030]{color:rgb(220 38 38 / var(--tw-text-opacity));--tw-text-opacity:0.8}.message-alert-widget.success[data-v-ab037030]{--tw-border-opacity:1;border-color:rgb(22 163 74 / var(--tw-border-opacity));background-color:rgb(22 163 74 / var(--tw-bg-opacity));--tw-bg-opacity:0.8}.message-alert-widget.success .icon-container[data-v-ab037030]{color:rgb(22 163 74 / var(--tw-text-opacity));--tw-text-opacity:0.8}",""]),n.locals={},e.exports=n},802:function(e,t,r){var content=r(1021);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("4ef75081",content,!0,{sourceMap:!1})}}]);